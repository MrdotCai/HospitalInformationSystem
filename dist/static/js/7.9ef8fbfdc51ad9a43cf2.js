webpackJsonp([7],{"0R/W":function(t,e){},"xY+J":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("mvHQ"),a=n.n(s),o={data:function(){return{input_username:"",input_password:""}},methods:{login:function(){console.log(this.input_username),console.log(this.input_password);var t=this;this.axios({method:"get",url:"http://localhost:8080/get_token"}).then(function(e){console.log("in post");var n=t.$cookie.get("csrftoken");t.axios({method:"post",headers:{"X-CSRFtoken":n},url:"http://localhost:8080/check_user",data:{username:t.input_username,password:t.input_password,flag:0}}).then(function(e){var n=JSON.parse(a()(e.data.flag)),s=JSON.parse(a()(e.data.id));if(console.log(s),console.log(n),"success"===n){var o="/patientindex/"+s;t.$router.push({path:o})}else t.$message({message:"登录失败，请检查用户名及密码",type:"warning"})})})},register:function(){this.$router.push({path:"/patientregister"})}}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{direction:"vertical"}},[n("el-header",[n("b",{staticStyle:{color:"white",position:"absolute",left:"150px",top:"2px","font-size":"18px"}},[t._v("PATIENT LOGIN ")])]),t._v(" "),n("el-main",[n("el-row",{staticStyle:{"margin-top":"200px"}},[n("el-col",[n("el-card",{staticClass:"box-card"},[n("b",[t._v("请输入患者用户名与密码")]),t._v(" "),n("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入用户名",clearable:""},model:{value:t.input_username,callback:function(e){t.input_username=e},expression:"input_username"}}),t._v(" "),n("el-input",{staticStyle:{"margin-top":"20px"},attrs:{placeholder:"请输入密码","show-password":""},model:{value:t.input_password,callback:function(e){t.input_password=e},expression:"input_password"}}),t._v(" "),n("el-row",[n("el-col",{attrs:{span:3}},[n("el-button",{attrs:{type:"text"},nativeOn:{click:function(e){return t.register()}}},[t._v("未有账户？点击注册")])],1),t._v(" "),n("el-col",{staticClass:"login_button",attrs:{span:2,offset:17}},[n("el-button",{staticStyle:{"margin-top":"30px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.login()}}},[t._v("登录")])],1)],1)],1)],1)],1)],1),t._v(" "),n("el-footer",[n("div",{staticStyle:{color:"#ffffff"}},[n("p",[t._v("Made by GTZ/YYZ/CJ"),n("br"),t._v("\n          Copyright © 2020")])])])],1)],1)},staticRenderFns:[]};var r=n("VU/8")(o,i,!1,function(t){n("0R/W")},"data-v-351dc798",null);e.default=r.exports}});
//# sourceMappingURL=7.9ef8fbfdc51ad9a43cf2.js.map