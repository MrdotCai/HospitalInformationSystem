webpackJsonp([4],{VgHY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),r={data:function(){return{user_id:"",newform:{date1:"",date2:""},patient:{name:"",sex:"",age:""},section:[],options:[],rules:{date1:[{type:"date",required:!0,message:"请选择就诊时间",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择就诊时间",trigger:"change"}]}}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e;e.axios({method:"post",url:"http://localhost:8080/add_register",data:{department:a.section[0],doctor:a.section[1],date:a.newform.date1,time:a.newform.date2}}).then(function(t){var e=JSON.parse(s()(t.data.flag));if(console.log(e),"success"===e){var i="/patientindex/"+a.user_id;a.$router.push({path:i})}else a.$message({message:"挂号失败",type:"warning"})})})}},mounted:function(){this.user_id=this.$route.params.aid;var t=this;this.axios({method:"post",url:"http://localhost:8080/get_patient",data:{id:t.user_id}}).then(function(e){t.options=e.data.options,t.patient=e.data.patient})}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("el-container",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{direction:"vertical"}},[i("el-container",[i("el-aside",{attrs:{width:"200px"}},[i("el-avatar",{staticClass:"avatar",attrs:{size:100,src:a("jgPH")}}),t._v(" "),i("b",{staticClass:"asidetext"},[t._v("姓名："+t._s(t.patient.name))]),i("br"),t._v(" "),i("b",{staticClass:"asidetext"},[t._v("性别："+t._s(t.patient.sex))]),i("br"),t._v(" "),i("b",{staticClass:"asidetext"},[t._v("年龄："+t._s(t.patient.age))])],1),t._v(" "),i("el-container",[i("el-header",[i("b",{staticStyle:{color:"white",position:"absolute",left:"230px",top:"2px","font-size":"18px"}},[t._v(" Hospital Management ")]),t._v(" "),i("el-button",{staticStyle:{color:"white","margin-left":"1100px"},attrs:{type:"text"}},[t._v("logout")])],1),t._v(" "),i("el-main",[i("el-card",{staticClass:"boxcard"},[i("el-form",{ref:"newform",attrs:{model:t.newform,"label-width":"100px",rules:t.rules}},[i("el-form-item",{attrs:{label:"科室/医生",prop:"doctor"}},[i("el-cascader",{attrs:{options:t.options},on:{change:function(e){return t.handlechange()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"就诊时间",prop:"date"}},[i("el-date-picker",{staticStyle:{width:"40%"},attrs:{placeholder:"选择日期",type:"date","value-format":"yyyy-MM-dd"},model:{value:t.newform.date1,callback:function(e){t.$set(t.newform,"date1",e)},expression:"newform.date1"}}),t._v("-\n                "),i("el-time-select",{staticStyle:{width:"40%"},attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"选择时间"},model:{value:t.newform.date2,callback:function(e){t.$set(t.newform,"date2",e)},expression:"newform.date2"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticStyle:{float:"right","margin-right":"30px","margin-top":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("newform")}}},[t._v("提交")])],1)],1)],1)],1)],1)],1),t._v(" "),i("el-footer",[i("div",{staticStyle:{color:"#ffffff"}},[i("p",[t._v("Made by GTZ/YYZ/CJ"),i("br"),t._v("\n          Copyright © 2020")])])])],1)],1)},staticRenderFns:[]};var n=a("VU/8")(r,o,!1,function(t){a("YbLD")},"data-v-67d68f44",null);e.default=n.exports},YbLD:function(t,e){}});
//# sourceMappingURL=4.71382f383abfdd594ee7.js.map