webpackJsonp([5],{"2h5C":function(t,e){},vgWp:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),o={data:function(){return{doctor:{name:"",department:""},patient:{name:"",sex:"",age:""},detail:"",medicine_count:"",diagnose_id:"",doctor_id:"",medicine:[{name:"",use:""}],options:[]}},created:function(){console.log("1111"),this.medicine_count=0},mounted:function(){this.doctor_id=this.$route.params.aid,this.diagnose_id=this.$route.params.bid;var t=this;this.axios({method:"post",url:"http://localhost:8080/get_diagnose",data:{id:t.doctor_id,diagnose_id:t.diagnose_id}}).then(function(e){console.log(e),t.options=e.data.options,t.patient=e.data.patient,t.doctor=e.data.doctor})},methods:{addmedicine:function(){this.medicine_count<4?(this.medicine_count=this.medicine_count+1,this.medicine.push({name:"",use:""})):this.$message({message:"到达处方上限",type:"warning"})},update:function(){console.log(this.medicine),console.log(this.detail);var t=this;this.axios({method:"post",url:"http://localhost:8080/update_diagnose",data:{id:t.diagnose_id,medicine:t.medicine,detail:t.detail}}).then(function(e){var a=JSON.parse(s()(e.data.flag));if(console.log(a),"success"===a){var i="/doctorindex/"+t.doctor_id;t.$router.push({path:i})}else t.$message({message:"提交失败",type:"warning"})})}}},n={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("el-container",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{direction:"vertical"}},[i("el-container",[i("el-aside",{attrs:{width:"200px"}},[i("el-avatar",{staticClass:"avatar",attrs:{size:100,src:a("QLFm")}}),t._v(" "),i("b",{staticClass:"asidetext"},[t._v("医师姓名："+t._s(t.doctor.name))]),i("br"),t._v(" "),i("b",{staticClass:"asidetext"},[t._v("科室："+t._s(t.doctor.department))])],1),t._v(" "),i("el-container",[i("el-header",[i("b",{staticStyle:{color:"white",position:"absolute",left:"230px",top:"2px","font-size":"18px"}},[t._v(" Hospital Management ")]),t._v(" "),i("el-button",{staticStyle:{color:"white","margin-left":"1100px"},attrs:{type:"text"}},[t._v("logout")])],1),t._v(" "),i("el-main",[i("el-row",[i("el-col",{attrs:{span:3}},[i("el-card",{staticClass:"card1"},[i("b",{attrs:{slot:"header"},slot:"header"},[i("span",[t._v("基本信息")])]),t._v(" "),i("el-row",[i("b",[t._v("姓名：")]),t._v(" "),i("div",[t._v(t._s(t.patient.name))])]),t._v(" "),i("el-row",[i("b",[t._v("性别：")]),t._v(" "),i("div",[t._v(t._s(t.patient.sex))])]),t._v(" "),i("el-row",[i("b",[t._v("年龄：")]),t._v(" "),i("div",[t._v(t._s(t.patient.age))])])],1)],1),t._v(" "),i("el-col",{attrs:{span:8}},[i("el-card",{staticClass:"card2"},[i("b",{attrs:{slot:"header"},slot:"header"},[t._v("药品信息")]),t._v(" "),i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.addmedicine()}}},[t._v("添加处方")]),t._v(" "),t._l(t.medicine,function(e,a){return i("el-row",{key:a},[i("b",[t._v(t._s(t.count))]),t._v(" "),i("el-select",{attrs:{placeholder:"请选择药品"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}},t._l(t.options,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),i("el-input",{staticClass:"inputnum",attrs:{placeholder:"请输入用法用量"},model:{value:e.use,callback:function(a){t.$set(e,"use",a)},expression:"item.use"}})],1)})],2)],1)],1),t._v(" "),i("el-row",[i("el-card",{staticClass:"card3"},[i("b",{attrs:{slot:"header"},slot:"header"},[t._v("病情诊断")]),t._v(" "),i("el-input",{attrs:{type:"textarea",placeholder:"请输入诊断内容",rows:12},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}})],1)],1),t._v(" "),i("el-button",{staticClass:"updatebutton",attrs:{type:"primary"},on:{click:function(e){return t.update()}}},[t._v("提交")])],1)],1)],1),t._v(" "),i("el-footer",[i("div",{staticStyle:{color:"#ffffff"}},[i("p",[t._v("Made by GTZ/YYZ/CJ"),i("br"),t._v("\n          Copyright © 2020")])])])],1)],1)},staticRenderFns:[]};var l=a("VU/8")(o,n,!1,function(t){a("2h5C")},"data-v-5336e01c",null);e.default=l.exports}});
//# sourceMappingURL=5.23352d33c8a74e2b559f.js.map