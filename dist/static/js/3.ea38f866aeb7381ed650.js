webpackJsonp([3],{"2AkD":function(t,e){},VgHY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),r={data:function(){return{user_id:"",newform:{date1:"",date2:""},patient:{name:"",sex:"",age:""},section:[],options:[],rules:{date1:[{type:"date",required:!0,message:"请选择就诊时间",trigger:"change"}],date2:[{type:"date",required:!0,message:"请选择就诊时间",trigger:"change"}]}}},methods:{onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=e;e.axios({method:"post",url:"http://localhost:8080/add_register",data:{department:a.section[0],doctor:a.section[1],date:a.newform.date1,time:a.newform.date2}}).then(function(t){var e=JSON.parse(i()(t.data.flag));if(console.log(e),"success"===e){var s="/patientindex/"+a.user_id;a.$router.push({path:s})}else a.$message({message:"挂号失败",type:"warning"})})})}},mounted:function(){this.user_id=this.$route.params.aid;var t=this;this.axios({method:"post",url:"http://localhost:8080/get_patient",data:{id:t.user_id}}).then(function(e){t.options=e.data.options,t.patient=e.data.patient})}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("el-container",{staticStyle:{position:"absolute",height:"100%",width:"100%"},attrs:{direction:"vertical"}},[s("el-container",[s("el-aside",{attrs:{width:"200px"}},[s("el-avatar",{staticClass:"avatar",attrs:{size:100,src:a("jgPH")}}),t._v(" "),s("b",{staticClass:"asidetext"},[t._v("姓名："+t._s(t.patient.name))]),s("br"),t._v(" "),s("b",{staticClass:"asidetext"},[t._v("性别："+t._s(t.patient.sex))]),s("br"),t._v(" "),s("b",{staticClass:"asidetext"},[t._v("年龄："+t._s(t.patient.age))])],1),t._v(" "),s("el-container",[s("el-header",[s("b",{staticStyle:{color:"white",position:"absolute",left:"230px",top:"2px","font-size":"18px"}},[t._v(" Hospital Management ")])]),t._v(" "),s("el-main",[s("el-card",{staticClass:"boxcard"},[s("el-form",{ref:"newform",attrs:{model:t.newform,"label-width":"100px",rules:t.rules}},[s("el-form-item",{attrs:{label:"科室/医生",prop:"doctor"}},[s("el-cascader",{attrs:{options:t.options},on:{change:function(e){return t.handlechange()}},model:{value:t.section,callback:function(e){t.section=e},expression:"section"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"就诊时间",prop:"date"}},[s("el-date-picker",{staticStyle:{width:"40%"},attrs:{placeholder:"选择日期",type:"date","value-format":"yyyy-MM-dd"},model:{value:t.newform.date1,callback:function(e){t.$set(t.newform,"date1",e)},expression:"newform.date1"}}),t._v("-\n                "),s("el-time-select",{staticStyle:{width:"40%"},attrs:{"picker-options":{start:"08:30",step:"00:15",end:"18:30"},placeholder:"选择时间"},model:{value:t.newform.date2,callback:function(e){t.$set(t.newform,"date2",e)},expression:"newform.date2"}})],1),t._v(" "),s("el-form-item",[s("el-button",{staticStyle:{float:"right","margin-right":"30px","margin-top":"5px"},attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("newform")}}},[t._v("提交")])],1)],1)],1)],1)],1)],1),t._v(" "),s("el-footer",[s("div",{staticStyle:{color:"#ffffff"}},[s("p",[t._v("Made by GTZ/YYZ/CJ"),s("br"),t._v("\n          Copyright © 2020")])])])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,n,!1,function(t){a("2AkD")},"data-v-7ef1afd2",null);e.default=o.exports}});
//# sourceMappingURL=3.ea38f866aeb7381ed650.js.map